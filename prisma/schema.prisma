generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Product {
  id        String     @id @default(cuid())
  name      String
  sku       String
  price     Float      @default(0)
  createdAt DateTime   @default(now())
  updatedAt DateTime   @default(now())
  inventory Inventory?
  sales     Sale[]
}

model Inventory {
  id           String   @id @default(cuid())
  productId    String   @unique
  onHand       Int      @default(0)
  updatedAt    DateTime @default(now())
  inbound      Int      @default(0)
  leadTimeDays Int      @default(0)
  safetyStock  Int      @default(0)
  product      Product  @relation(fields: [productId], references: [id])
}

model Sale {
  id        String   @id @default(cuid())
  productId String
  units     Int      @default(1)
  revenue   Float    @default(0)
  date      DateTime @default(now())
  product   Product  @relation(fields: [productId], references: [id])

  @@index([date])
  @@index([productId])
}

/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by Prisma Client.
model sku_table {
  status              String?   @db.VarChar(30)
  sku                 String?   @unique @db.VarChar(100)
  asin                String?   @db.VarChar(20)
  product_id_type     String?   @db.VarChar(20)
  title               String?   @db.VarChar(255)
  item_name           String?   @db.VarChar(255)
  brand_name          String?   @db.VarChar(100)
  product_type        String?   @db.VarChar(50)
  model_number        String?   @db.VarChar(100)
  manufacturer        String?   @db.VarChar(150)
  country_of_origin   String?   @db.VarChar(100)
  browse_node         String?   @db.VarChar(50)
  product_description String?
  bullet_1            String?   @db.VarChar(500)
  bullet_2            String?   @db.VarChar(500)
  bullet_3            String?   @db.VarChar(500)
  bullet_4            String?   @db.VarChar(500)
  bullet_5            String?   @db.VarChar(500)
  keywords            String?
  target_gender       String?   @db.VarChar(30)
  material            String?   @db.VarChar(100)
  color               String?   @db.VarChar(50)
  size                String?   @db.VarChar(50)
  fit_type            String?   @db.VarChar(50)
  care_instructions   String?   @db.VarChar(255)
  quantity            Int?
  your_price          Decimal?  @db.Decimal(10, 2)
  mrp                 Decimal?  @db.Decimal(10, 2)
  release_date        DateTime? @db.Timestamp(6)
  main_image_link     String?   @db.VarChar(255)
  image_1             String?   @db.VarChar(255)
  image_2             String?   @db.VarChar(255)
  image_3             String?   @db.VarChar(255)
  image_4             String?   @db.VarChar(255)
  image_5             String?   @db.VarChar(255)
  image_6             String?   @db.VarChar(255)
  image_7             String?   @db.VarChar(255)
  package_length      Decimal?  @db.Decimal(10, 2)
  package_width       Decimal?  @db.Decimal(10, 2)
  package_height      Decimal?  @db.Decimal(10, 2)
  package_weight      Decimal?  @db.Decimal(10, 2)
  dimension_unit      String?   @db.VarChar(20)
  weight_unit         String?   @db.VarChar(20)
  hsn_code            String?   @db.VarChar(20)
  gst_tax_code        String?   @db.VarChar(50)
  created_at          DateTime? @default(now()) @db.Timestamp(6)

  @@ignore
}
